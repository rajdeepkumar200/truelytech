<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport"
    content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, viewport-fit=cover" />
  <title>Habitency | Track Your Daily Habits</title>
  <meta name="description"
    content="Beautiful daily habit tracker to build consistency and track your weekly progress. Simple, elegant, and effective." />
  <link rel="preload" href="/reminders/meditation.mp4" as="video" type="video/mp4" />
  <link rel="preload" href="/reminders/pushup.mp4" as="video" type="video/mp4" />
  <meta name="robots" content="index, follow" />
  <link rel="canonical" href="/" />
  <link rel="icon" href="%BASE_URL%favicon.svg?v=20260201" type="image/svg+xml" />
  <link rel="icon" href="%BASE_URL%favicon.ico?v=20260201" sizes="any" />

  <!-- PWA Meta Tags -->
  <meta name="theme-color" content="#b8a09a" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="Habitency" />
  <link rel="apple-touch-icon" href="%BASE_URL%pwa-192x192.png?v=20260201" />
  <link rel="manifest" href="/public/manifest.webmanifest?v=20260201" />

  <meta property="og:title" content="Habitency | Track Your Daily Habits" />
  <meta property="og:description"
    content="Beautiful daily habit tracker to build consistency and track your weekly progress." />
  <meta property="og:type" content="website" />

  <meta name="twitter:card" content="summary_large_image" />
</head>

<body>
  <div id="root">
    <div style="padding:20px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;">
      Loading…
    </div>
  </div>
  <script>
    // If the JS bundle fails to load (or crashes before rendering), don't leave a blank screen.
    // React will replace #root content quickly on success.
    window.setTimeout(function () {
      try {
        var root = document.getElementById('root');
        if (!root) return;
        var hasRendered = root.children && root.children.length > 0 && root.textContent && root.textContent.trim() !== 'Loading…';
        if (hasRendered) return;

        root.innerHTML =
          '<div style="padding:20px;font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif;">' +
          '<h3 style="margin:0 0 8px 0;">Habitex failed to load</h3>' +
          '<p style="margin:0 0 10px 0;">This usually happens when environment variables are missing on Vercel, or a PWA service worker is serving a stale bundle.</p>' +
          '<ol style="margin:0 0 10px 18px;">' +
          '<li>Vercel → Project → Settings → Environment Variables: set all <code>VITE_FIREBASE_*</code> values</li>' +
          '<li>Redeploy (Vercel → Deployments → Redeploy)</li>' +
          '<li>In your browser: DevTools → Application → Service Workers → Unregister, then hard refresh</li>' +
          '</ol>' +
          '<p style="margin:0;">Open DevTools Console for the exact error.</p>' +
          '</div>';
      } catch (_) {
        // ignore
      }
    }, 4000);
  </script>
  <script type="module" src="%BASE_URL%src/main.tsx"></script>
</body>

</html>